# This file configures the build and redirect settings for Netlify.

[build]
  # This tells Netlify where your serverless functions are located.
  functions = "api/"
  publish = "public"

# 1. Handle nested admin functions (e.g. api/admin/login -> admin-login)
[[redirects]]
  from = "/api/admin/*"
  to = "/.netlify/functions/admin-:splat"
  status = 200

# 2. Handle root level functions (e.g. api/config -> config)
[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/:splat"
  status = 200